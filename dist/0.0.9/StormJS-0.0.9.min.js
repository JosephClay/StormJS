!function(a,b,c,d){var e=a.Storm,f=a.Storm={name:"StormJS",ajax:a.$||{ajax:function(){h.error(n("Storm.ajax","NYI"))}},$:a.$||function(){h.error(n("Storm.$","NYI"))}},g=function(){},h=a.console||{};h.log=h.log||g,h.error=h.error||h.log;var i=function(a){return function(b){return a.slice.call(b)}}([]),j=function(a){return null!==a&&a!==d},l=function(){var a=new RegExp("{(.+?)}","g");return function(b,c){return b.replace(a,function(a,b){return j(c[b])?c[b]+"":""})}}(),m=function(a,b){var c=j(b);if(c){var d,e=[];for(d in b)e.push(d+": "+b[d]);b=e.join(", ")}return l("[{storm}: {name}{spacer}{props}]",{storm:f.name,name:a,spacer:c?" - ":"",props:c?b:""})},n=function(a,b){return l("{storm}: {name}, {message}",{storm:f.name,name:a,message:b})},o=function(a,b){return f[a]!==d?h.error(n("mixin",'Cannot mixin. "'+a+'" already exists: '),a,f[a],b):void(f[a]=b)};f.mixin=function(a,c){if(b.isString(a))return o(a,c);var d;for(d in a)o(d,a[d])};var p=(f.memo=function(a){var b;return function(){return b||(b=a.call())}},f.uniqId=function(){var a={};return function(b){b=b||"";var c=(a[b]||0)+1;return a[b]=c}}()),q=f.Extend=function(a,c){var d="function"==typeof a;d||(c=a);var e=this,f=function(){var b=e.apply(this,arguments);return d&&(b=a.apply(this,arguments)),b};b.extend(f,this);var g=function(){};return g.prototype=this.prototype,f.prototype=new g,b.extend(f.prototype,this.prototype,c),f.prototype.constructor=a||f,f},r=f.Events=c.core;b.extend(f,r.construct());var s="Promise",t={idle:0,progressed:1,failed:2,done:3},u={done:0,fail:1,always:2,progress:3,pipe:4},v=b.invert(u),w=f.Promise=function(){this._id=p(s),this._calls={},this._status=t.idle};w.STATUS=t,w.CALL=u,w.prototype={constructor:w,done:function(a){return this._pushCall.call(this,u.done,a)},fail:function(a){return this._pushCall.call(this,u.fail,a)},always:function(a){return this._pushCall.call(this,u.always,a)},progress:function(a){return this._pushCall.call(this,u.progress,a)},pipe:function(a){return this._pushCall.call(this,u.pipe,a)},_pushCall:function(a,b){return this._getCalls(a).push(b),this},notify:function(){this._status=t.progressed;var a=this._runPipe(arguments);return this._fire(u.progress,a)._fire(u.always,a),this},reject:function(){return this._status===t.failed||this._status===t.done?this:(this._status=t.failed,this._fire(u.fail,arguments)._fire(u.always,arguments),this._cleanup(),this)},resolve:function(){if(this._status===t.failed||this._status===t.done)return this;this._status=t.done;var a=this._runPipe(arguments);return this._fire(u.done,a)._fire(u.always,a),this._cleanup(),this},is:function(a){return b.isNumber(a)?this._status===a:this._status===w.STATUS[a]},status:function(){return this._status},_fire:function(a,b){for(var c=this._getCalls(a),d=0,e=c.length;e>d;d++)c[d].apply(null,b);return this},_runPipe:function(a){for(var b,c=this._getCalls(u.pipe),e=0,f=c.length;f>e;e++)b=c[e].apply(null,a),b!==d&&(a=[b]);return a},_getCalls:function(a){return this._calls[v[a]]||(this._calls[v[a]]=[])},call:function(){var a=b.toArray(arguments);a.splice(0,1),this.notify.apply(this,a)},apply:function(a,b){this.notify.apply(this,b)},_cleanup:function(){this._getCalls(u.done).length=0,this._getCalls(u.fail).length=0,this._getCalls(u.always).length=0},toString:function(){return m(s,{id:this._id,status:b.invert(t)[this._status],done:this._getCalls(u.done).length,fail:this._getCalls(u.fail).length,always:this._getCalls(u.always).length,progress:this._getCalls(u.progress).length,pipe:this._getCalls(u.pipe).length})}};f.when=function(a){var c=function(){this._p=null,this._events=[]};return c.prototype={constructor:c,init:function(){this._events=b.isArray(arguments[0])?arguments[0]:b.toArray(arguments),this._subscribe();var c=new a;return c.then=function(){this.done.apply(this,arguments)},this._p=c,c},_subscribe:function(){for(var a=b.bind(this._checkStatus,this),c=b.bind(this._fireProgress,this),d=this._events,e=d.length;e--;)d[e].done(a).fail(a).progress(c)},_checkStatus:function(){for(var b,c=this._events,d=c.length,e=0,f=0,g=d;g--;){if(b=c[g],b.status()===a.STATUS.idle)return;b.status()!==a.STATUS.done?b.status()!==a.STATUS.failed||(f+=1):e+=1}this._fire(d,e,f,arguments)},_fire:function(b,c,d,e){var f=this._p;return c===b?f.resolve.apply(f,e):d===b?f.reject.apply(f,e):c+d===b?f._fire(a.CALL.always,e):void 0},_fireProgress:function(){var a=this._p;a.notify.apply(a,arguments)}},function(){var a=new c;return a.init.apply(a,arguments)}}(w);!function(){for(var b=0,c=["ms","moz","webkit","o"],d=0,e=c.length;e>d&&!a.requestAnimationFrame;d++)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)})}();var x=function(a){return a.now||function(){return(new a).valueOf()}}(Date);f.tick=function(){var c="tick",d={},e=[],f=null,g=!0,i=function(){var b=0,c=e.length;for(d.now=x();c>b;)e[b](d),b+=1;f=a.requestAnimationFrame(i)};return i(),{hook:function(a){if(b.isArray(a)){for(var d=[],f=0,g=a.length;g>f;f++)d[f]=this.hook(a[f]);return d}if(!b.isFunction(a))return h.error(n(c,"Parameter must be a function"),a);var i=p(c);return a.__hook__=i,e.push(a),i},unhook:function(a){for(var b=-1,c=e.length;c--;)if(e[c].__hook__===a){b=c;break}return-1===b?this:(e.splice(b,1),this)},isRunning:function(){return g},start:function(){return g?this:(g=!0,i(),this)},stop:function(){return g?(g=!1,a.cancelAnimationFrame(f),this):this}}}();var y="request",z={},A={send:function(a){z[a.getId()]||(z[a.getId()]=a,f.request.trigger("send",a))},done:function(a){f.request.trigger("done",a)},fail:function(a){f.request.trigger("fail",a)},abort:function(a){f.request.trigger("abort",a)},always:function(a){z[a.getId()]&&(delete z[a.getId()],f.request.trigger("always",a))}};f.request=r.construct(),b.extend(f.request,{getQueue:function(){return z},getTotal:function(){return b.size(z)},toString:function(){return m(y)}});var B="AjaxCall",C={nonblocking:0,blocking:1},D=function(a){a in C||(C[a]=b.size(C))},E=f.AjaxCall=function(a,b,c){this._id=p(B),this._call=this._configure(a,b,c)};b.extend(E,{CLASSIFICATION:C,addClassification:function(a){if(b.isArray(a))for(var c=0,d=a.length;d>c;c++)D(a[c]);else D(a)}}),E.prototype={constructor:E,defaults:{name:"",type:"GET",content:"application/json; charset=utf-8",url:"",cache:!1,classification:C.nonblocking},_configure:function(a,c,d){var e=b.extend({},this.defaults,d,a);return e.url=l(e.url,c),e},data:function(a){return arguments.length?(this._call.data=a,this):this._call.data},getConfiguration:function(){return this._call},getId:function(){return this._id},isType:function(a){return a.toUpperCase()===this._call.type.toUpperCase()},isClassification:function(a){return a===this._call.classification},get:function(a){return this._call[a]},set:function(a,b){return this._call[a]=b,this},send:function(a){a=a||new f.Promise,a.abort=b.bind(this.abort,this);var c=this,d=this._call,e=b.extend({},d,{contentType:d.content,success:function(b){a&&a.resolve(b),c.success.apply(c,arguments),A.done(c)},progress:function(){a&&a.notify()},error:function(b,d,e){return c.req=b,c.status=d,c.err=e,a&&a.reject(b),0===b.status?void A.abort(b,d,e,c):(c.error.apply(c,arguments),void A.fail(c))},complete:function(){c.complete.apply(c,arguments),A.always(c)}});A.send(this);this.request=f.ajax.ajax(e);return a},success:function(){},error:function(){},complete:g,abort:function(){return this.request&&(this.request.abort(),this.request=null),this},toString:function(){return m(B,{id:this._id,call:JSON.stringify(this._call)})}};var F="DataContext",G=f.DataContext=function(){this._id=p(F)};b.extend(G,{settings:function(){var b=a.location||{};return{host:b.host,hostname:b.hostname,origin:b.origin,pathname:b.pathname,port:b.port}}(),addSettings:function(a){return b.extend(G.settings,a)},getSetting:function(a){return G.settings[a]}}),G.prototype={constructor:G,AjaxCall:E,defaults:{},options:{},callTemplate:{},getSetting:function(a){return G.getSetting(a)},extendOptions:function(a){return this.options=b.extend({},this.defaults,a),this},removeOption:function(a){return delete this.options[a],this},createCall:function(a,c){var d=b.extend({},G.settings,this.options,c);return new this.AjaxCall(a,d,this.callTemplate)},toString:function(){return m(F,{id:this._id})}},f.template=function(){var a="template",c={},d={},e={compile:b.template},f=function(e,i,j){if(j=j||{},!b.isString(e)){var k,l=e;for(k in l)f(k,l[k],i);return this}if("#"===e[0]){var m=document.getElementById(e.substring(1,e.length));if(!m)return h.error(n(a,'Cannot find reference to "'+e+'" in DOM'),e,i);i=m.innerHTML}return j.isCompiled?(d[e]=i,this):(c[e]=g(i),this)},g=function(c){return b.isFunction(c)&&(c=c.call()),b.isString(c)?c.trim():b.isArray(c)?c.join("\n").trim():(h.error(n(a,"Template (or the return value) was of unknown type"),c),"")},i=function(b){var f=d[b];return f?f:(e||h.error(n(a,"No template engine is available"),e),d[b]=e.compile(c[b]))},j=function(a){delete c[a],delete d[a]},k=function(a,b){var c=i(a);return c(b||{})};return{add:f,remove:j,render:k,setEngine:function(a){e=a},toJSON:function(a){var b=a?c[a]:c;return b},toString:function(){return m(a,{size:b.size(c)})}}}();var H="View",I=f.View=function(a){r.call(this),a=a||{},this._id=p(H),this.options=a||{},this.elem=a.elem||null,this.template=this.template||a.template||""};b.extend(I.prototype,r.prototype,{constructor:I,getId:function(){return this._id},clone:function(){return new this.constructor(this.options)},render:g,getElem:function(){return this.elem||(this.elem=this.render())},toString:function(){return m(H,{id:this._id})}});var J="Model",K=f.Model=function(a,c){r.call(this),this._id=p(J),this.options=c,this._getters={},this._setters={},a=b.extend({},this.defaults,a),this.__data=this._duplicate(a),this.__originalData=this.__previousData=this._duplicate(a),this.comparator&&this.comparator.bind(this)};b.extend(K.prototype,r.prototype,{constructor:K,supportComplexDataTypes:!1,defaults:{},getId:function(){return this._id},restore:function(a){if(this.__data=this._duplicate(this.__originalData),a&&!a.isSilent)return this;var b;for(b in this.__data)this.trigger("change:"+b,this.__data[b]),this.trigger("model:change",b,this.__data[b]);return this.trigger("model:restore"),this},getter:function(a,c){return b.isFunction(c)?this._getters[a]?h.error(n(J,"Getter is already defined",a,c)):(this._getters[a]=c,this):h.error(n(J,"Getter must be a function.",a,c))},setter:function(a,c){return b.isFunction(c)?this._setters[a]?h.error(n(J,"Setter is already defined",a,c)):(this._setters[a]=c,this):h.error(n(J,"Setter must be a function",a,c))},get:function(a){if(b.isArray(a)){for(var c=a.length;c--;)a[c]=this._get(a[c]);return a}return this._get(a)},_get:function(a){return this._getters[a]?this._getters[a].call(null,this.__data[a]):this.__data[a]},set:function(a,c,d){if(!b.isString(a)){var e;for(e in a)this._set(e,a[e],d);return this}return this._set(a,c,d),this},_set:function(a,b,c){this._setters[a]&&(b=this._setters[a].call(null,b)),this._change(a,b,c)},add:function(a,c,d){if(!b.isString(a)){var e;for(e in a)this._add(e,a[e],d);return this}return this._add(a,c,d),this},remove:function(a,c){if(b.isArray(a)){for(var d=a.length;d--;)this._remove(a[d],c);return this}this._remove(a,c)},previous:function(a){return this.__previousData[a]},has:function(a){return j(a)?a in this.__data:!1},hasChanged:function(a){if(j(a))return this.__originalData[a]===this.__data[a]?!1:!0;var b;for(b in this.__data)if(this.hasChanged(b))return!0;return!1},clone:function(){return new this.constructor(this._duplicate(this.__data),this.options)},_duplicate:function(a){return j(a)?this.supportComplexDataTypes?b.clone(a):JSON.parse(JSON.stringify(a)):a},retrieve:function(){return this.__data},_backup:function(){this.__previousData=this._duplicate(this.__data)},_add:function(a,b,c){this._backup(),this.__previousData[a]===d&&(this.__data[a]=this._duplicate(b),this.__previousData[a]!==this.__data[a]&&(c&&c.isSilent||(this.trigger("add:"+a,b),this.trigger("model:add",a,b))))},_remove:function(a,b){if(this._backup(),this.__previousData[a]!==d){var c=this.__data[a];delete this.__data[a],b&&b.isSilent||(this.trigger("remove:"+a,c),this.trigger("model:remove",a,c))}},_change:function(a,c,d){return this._backup(),this.__data[a]=this._duplicate(c),b.isEqual(this.__previousData[a],this.__data[a])?void 0:this._validate()?void(d&&d.isSilent||(this.trigger("change:"+a,c),this.trigger("model:change",a,c))):this.__data=this._duplicate(this.__previousData)},compareTo:function(a){return this.comparator&&a&&a.comparator?this.comparator.getSortValue(this).localeCompare(this.comparator.getSortValue(a)):0},_validate:function(){if(!this.validate)return!0;var a=!!this.validate();return a||this.trigger("model:invalid"),a},toJSON:function(){return this.__data},toString:function(){return m(J,{id:this._id})}}),b.each(["each","isEqual","isEmpty","size","keys","values","pairs","invert","pick","omit"],function(a){K.prototype[a]=function(){var c=b.toArray(arguments);return c.unshift(this.__data),b[a].apply(b,c)}});var L="Comparator",M={alphabetical:0,numeric:1,date:2},N=b.invert(M),O=function(a,c){a in M||(M[a]=b.size(M),Q.prototype[a]=c||g)},P={},Q=f.Comparator=function(a,b){this._id=p(L),this._key=a,this._type=b||M.alphabetical};b.extend(Q,{HOIST:"___",SORT:M,addSort:function(a){if(b.isArray(a))for(var c=0,d=a.length;d>c;c++)O(a[c]);else O(a);N=b.invert(M)}}),Q.prototype={constructor:Q,bind:function(a){a.on("change:"+this._key,b.bind(this.invalidateSortValue,this,a))},invalidateSortValue:function(a){return delete P[a.getId()],this},getSortValue:function(a){var b=a.getId();if(P[b])return P[b];if(!this[N[this._type]])return h.error(n("Comparator","No method for the sort type assigned"),this._type,N[this._type]);var c=this[N[this._type]].call(this,a);return P[b]=c,c},alphabetical:function(a){var c=a.get(this._key);return c=b.exists(c)?(c+"").toLocaleLowerCase():Q.HOIST},numeric:function(a){var b=a.get(this._key)||0;return b=+b},date:function(a){var c=a.get(this._key)||new Date;return c=b.isDate(c)?c:new Date(c)},toString:function(){return m(L,{id:this._id,key:this._key,type:N[this._type]})}};var R="Collection",S=function(a){return a instanceof f.Model?a.getId():parseInt(a,10)||-1},T=f.Collection=function(a){r.call(this),a=a||{},this._id=p(R),this._models=[],this.add(a.models,b.extend({isSilent:!0},a))};b.extend(T.prototype,r.prototype,{constructor:T,Model:K,getId:function(){return this._id},newModel:function(a,b){return new this.Model(a,b)},getModels:function(){return this._models},getBy:function(a,b){for(var c=this._models,d=c.length;d--;)if(c[d].get(a)===b)return c[d];return null},length:function(){return this._models.length},clear:function(){for(var a=this._models,b=a.length;b--;)a[b].trigger("destroy");return this._models.length=0,this},overwrite:function(a){return this._models=a},at:function(a){return this._models[a]},indexOf:function(a){for(var b=S(a),c=this._models,d=c.length;d--;)if(c[d].getId()===b)return d;return-1},add:function(a,c){a=b.isArray(a)?a.slice():[a],c=c||{};for(var d,e=0,g=a.length,h=[],i=c.at;g>e;e++)if(d=a[e])if(d instanceof f.Model||(d=this.newModel(d,c)),d._validate())if(this.get(d.getId())){if(c.merge){var k,l=a[e];for(k in l)d.set(k,l[k],c);c.isSilent||d.trigger("collection:merge")}}else h.push(d);else c.isSilent||this.trigger("collection:invalid",d,a);if(h.length)if(j(i))for(var m=0,n=h.length;n>m;m++)this._models.splice(i+m,0,h[m]);else this._models=this._models.concat(h),this.sort(c);if(c.isSilent)return this;var o=this;return b.each(h,function(a){a.trigger("collection:add",o)}),this.trigger("add",h,c),this},set:function(){this.add.apply(this,arguments)},push:function(a,c){return c=b.extend({at:this._models.length},c),this.add(a,c),a},unshift:function(a,c){return c=b.extend({at:0},c),this.add(a,c),a},remove:function(a,c){a=b.isArray(a)?a.slice():[a],c=c||{};for(var d,e=a.length;e--;)if(d=a[e],d=d instanceof f.Model?d:this.get(d)){var g=this.indexOf(d);-1!==g&&(this._models.splice(g,1),c.isSilent||d.trigger("collection:remove",this))}return c.isSilent?this:(this.trigger("remove",a,c),this)},shift:function(a){var b=this.at(0);return this.remove(b,a),b},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},slice:function(a,b){return this._models.slice(a,b)},sort:function(a){if(a=a||{},a.skipSort||!this.length()||!this.at(0).comparator)return this;if(T.arraySort.call(this._models,function(a,b){return a.compareTo(b)}),!a.silent){var b=this;this.each(function(a,c){a.trigger("collection:sort",b,c)}),this.trigger("sort",this,a)}return this},where:function(a,c){if(b.isEmpty(a))return c?d:[];var e=this[c?"find":"filter"];return e.call(this,function(b){var c;for(c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},findById:function(a){if(!j(a))return null;a=b.isNumber(a)?a:parseInt(a,10);for(var c,d=this.getModels(),e=d.length;e--;)if(c=d[e],c&&c.getId()===a)return c;return null},pluck:function(a){return b.invoke(this._models,"get",a)},getById:function(a){if(!j(a))return null;a=parseInt(a,10);for(var b=this._models,c=b.length;c--;)if(b[c].getId()===a)return b[c];return null},get:function(a){var b=a instanceof f.Model?a.getId():a;return this.getById(b)},reset:function(a){return a=a||{},this._models.length=0,a.isSilent||this.trigger("reset"),this},clone:function(){return new this.constructor({model:this.model,models:this._models})},retrieve:function(){return b.map(this._models,function(a){return a.retrieve()})},toJSON:function(){return this.retrieve()},toString:function(){return m(R,{id:this._id,length:this.length()})}}),T.arraySort=Array.prototype.sort,b.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","shuffle","lastIndexOf","isEmpty","chain"],function(a){T.prototype[a]=function(){var c=b.toArray(arguments);return c.unshift(i(this._models)),b[a].apply(b,c)}}),b.each(["groupBy","countBy","sortBy"],function(a){T.prototype[a]=function(c,d){var e=b.isFunction(c)?c:function(a){return a.get(c)};return b[a](this._models,e,d)}});var U="Module",V=f.Module=function(){r.call(this),this._id=p(U)};b.extend(V.prototype,r.prototype,{constructor:V,getId:function(){return this._id},toString:function(){return m(U,{id:this._id})}});var W="Cache",X=f.Cache=function(){this._id=p(W),this._cache={},this._timeouts={}};X.prototype={constructor:X,store:function(a,c,d){if(d=d||{},!b.isString(a)){d=c,c=a;var e;for(e in c)this._store(e,c[e],d);return this}return this._store(a,c,d),this},get:function(a){if(b.isArray(a)){for(var c=a.length;c--;)a[c]=this._cache[a[c]];return a}return this._cache[a]},remove:function(a){a=b.isArray(a)?a:[a];for(var c=a.length;c--;)this._clearExpiration(a[c]),delete this._cache[a[c]];return this},flush:function(){return this._clearExpirations(),this._cache={},this},_store:function(a,c,d){d=d||{},j(d.expiration)&&this._setExpiration(a,d.expiration),d.extend&&(c=b.extend(this._cache[a],c)),this._cache[a]=c},_setExpiration:function(a,c){this._timeouts[a]&&clearTimeout(this._timeouts[a]);var d=this;this._timeouts[a]=setTimeout(function(){delete d._cache[a],delete d._timeouts[a]},b.isNaN(c)?0:c)},_clearExpirations:function(){var a;for(a in this._timeouts)this._clearExpiration(a)},_clearExpiration:function(a){clearTimeout(this._timeouts[a]),delete this._timeouts[a]},toJSON:function(a){var b=a?this.get(a):this._cache;return b},toString:function(){return m(W,{id:this._id,size:b.size(this._cache)})}},b.each(["keys","values","pairs","functions","pick","omit","tap","has","isEqual","isEmpty","each"],function(a){X.prototype[a]=function(){var c=b.toArray(arguments);return c.unshift(this._cache),b[a].apply(b,c)}}),f.cache=new X;var Y="Storage",Z={},$={cookie:0,localStorage:1,sessionStorage:2},_=f.Storage=function(c,d){d=d||{},this._id=p(Y),this.type=c||$.cookie;var e=b.invert($);this.name=d.name||e[this.type],this.storage=a[e[this.type]],this.hasStorage=j(this.storage),this.data=this._getData(),this.length=this.hasStorage?this.storage.length:b.size(this.data)};_.TYPE=$,_.prototype={constructor:_,clear:function(){return this.data={},this.length=0,this.hasStorage?(this.storage.clear(),this):(this._clearCookieData(),this)},key:function(a){if(this.hasStorage)return this.storage.key(a);var b,c=0;for(b in this.data){if(c===a)return k;c++}return null},getItem:function(a){if(b.isArray(a)){for(var c=a.length;c--;)a[c]=this.getItem(a[c]);return a}if(this.hasStorage){var d=this.storage.getItem(a);return j(d)?""===d?"":JSON.parse(d):d}return this.data[a]},get:function(){return this.getItem.apply(this,arguments)},setItem:function(a,c,d){if(b.isString(a)){if(d&&j(d.expiration)&&this._setExpiration(a,d.expiration||0),this.hasStorage){var e=this.storage.setItem(a,JSON.stringify(c));return this.length=this.storage.length,e}this.data[a]=c,this.length++,this._setCookieData()}else{var f;for(f in a)this.setItem(f,a[f],c)}},store:function(){this.setItem.apply(this,arguments)},set:function(){this.setItem.apply(this,arguments)},flush:function(){var a;for(a in this.data)this.removeItem(a);return this},removeItem:function(a){if(this.hasStorage){var b=this.storage.removeItem(a);return this.length=this.storage.length,b}delete this.data[a],this.length--,this._setCookieData()},remove:function(a){return this.removeItem(a),this},_createCookie:function(a){var b,c=this.type===_.TYPE.session?0:365,d=new Date;c>0?(d.setTime(d.getTime()+24*c*60*60*1e3),b=d.toGMTString()):b="0",document.cookie=l("{name}={value}; expires={expiration}; path=/",{name:this.name,value:a,expiration:b})},_readCookie:function(){for(var a,b=this.name+"=",c=document.cookie.split(";"),d=0,e=c.length;e>d;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(b))return a.substring(b.length,a.length)}return null},_setCookieData:function(){var a=JSON.stringify(this.data);this._createCookie(a,365)},_clearCookieData:function(){this._createCookie("",365)},_getData:function(){var a=this.hasStorage?null:this._readCookie();return a?JSON.parse(a):{}},_setExpiration:function(a,b){var c=this,d=this._id+a;Z[d]&&clearTimeout(Z[d]),Z[d]=setTimeout(function(){c.removeItem(a),delete Z[d]},b)},toJSON:function(a){var b=a?this.get(a):this._getData();return b},toString:function(){return m(Y,{type:b.invert($)[this.type],length:this.length})}},f.store=new _($.localStorage),f.session=new _($.sessionStorage),r.extend=X.extend=E.extend=G.extend=K.extend=T.extend=Q.extend=I.extend=V.extend=q,f.noConflict=function(){return a.Storm=e,this},"undefined"!=typeof define&&define.amd&&define("Storm",[],function(){return f})}(this,_,Signal);
//# sourceMappingURL=StormJS-0.0.9.min.map